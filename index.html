<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productivity Tools - Daily Planner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #4F46E5;
            --secondary-color: #7C3AED;
            --background: #F9FAFB;
            --surface: #FFFFFF;
            --text-primary: #111827;
            --text-secondary: #6B7280;
            --border-color: #E5E7EB;
            --radius: 8px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .app-container {
            display: grid;
            grid-template-columns: 240px 1fr 320px;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            background: var(--surface);
            border-right: 1px solid var(--border-color);
            padding: 24px 16px;
            overflow-y: auto;
        }

        .logo h2 {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 32px;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--radius);
            margin-bottom: 4px;
            transition: all 0.3s ease;
            font-weight: 500;
            cursor: pointer;
        }

        .nav-item:hover {
            background: var(--background);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .nav-item i {
            width: 20px;
            margin-right: 12px;
        }

        .main-content {
            padding: 32px;
            overflow-y: auto;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .content-header h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .date-navigation {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-btn {
            background: var(--surface);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--background);
        }

        .current-date {
            font-weight: 500;
            color: var(--text-primary);
        }

        .days-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .day-column {
            background: var(--surface);
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .day-column.today {
            border-color: var(--primary-color);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .day-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            background: var(--background);
            position: relative;
        }

        .day-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .day-date {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .today-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .task-list {
            padding: 16px;
        }

        .task-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            border-radius: var(--radius);
            margin-bottom: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .task-item:hover {
            background: var(--background);
        }

        .task-item.completed {
            opacity: 0.6;
        }

        .task-item.completed .task-description {
            text-decoration: line-through;
        }

        .task-time {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
            min-width: 60px;
        }

        .task-content {
            flex: 1;
        }

        .task-description {
            font-weight: 500;
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .task-meta {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .task-duration {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .task-project {
            background: var(--background);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .calendar-sidebar {
            background: var(--surface);
            border-left: 1px solid var(--border-color);
            padding: 24px;
            overflow-y: auto;
        }

        .calendar-header {
            margin-bottom: 24px;
        }

        .calendar-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .current-time {
            color: var(--primary-color);
            font-size: 2rem;
            font-weight: 700;
        }

        .time-slots {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .time-slot {
            display: flex;
            gap: 16px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .time-slot.current {
            background: linear-gradient(90deg, rgba(79, 70, 229, 0.1) 0%, transparent 100%);
            border-radius: var(--radius);
            padding: 8px 16px;
        }

        .slot-time {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
            min-width: 60px;
        }

        .slot-content {
            flex: 1;
        }

        .scheduled-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: var(--background);
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .scheduled-item.morning-routine {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            color: #92400E;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius);
            z-index: 1000;
            font-family: Inter, sans-serif;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 968px) {
            .app-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar,
            .calendar-sidebar {
                display: none;
            }
            
            .main-content {
                padding: 16px;
            }
            
            .days-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo">
                <h2>Productivity Tools</h2>
            </div>
            <nav class="nav-menu">
                <ul>
                    <li><a href="#" class="nav-item active" data-page="home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" class="nav-item" data-page="focus"><i class="fas fa-crosshairs"></i> Focus</a></li>
                    <li><a href="#" class="nav-item" data-page="daily-planning"><i class="fas fa-calendar-day"></i> Daily planning</a></li>
                    <li><a href="#" class="nav-item" data-page="daily-task-list"><i class="fas fa-list-check"></i> Daily task list</a></li>
                    <li><a href="#" class="nav-item" data-page="daily-shutdown"><i class="fas fa-power-off"></i> Daily shutdown</a></li>
                    <li><a href="#" class="nav-item" data-page="daily-highlights"><i class="fas fa-star"></i> Daily highlights</a></li>
                    <li><a href="#" class="nav-item" data-page="weekly-planning"><i class="fas fa-calendar-week"></i> Weekly planning</a></li>
                    <li><a href="#" class="nav-item" data-page="weekly-review"><i class="fas fa-calendar-check"></i> Weekly review</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-header">
                <h1>Daily Planner</h1>
                <div class="date-navigation">
                    <button class="nav-btn" onclick="showNotification('Previous day')"><i class="fas fa-chevron-left"></i></button>
                    <span class="current-date">Today, March 20, 2024</span>
                    <button class="nav-btn" onclick="showNotification('Next day')"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>

            <div class="days-container">
                <!-- Monday -->
                <div class="day-column">
                    <div class="day-header">
                        <h3>Monday</h3>
                        <span class="day-date">March 18</span>
                    </div>
                    <div class="task-list" id="monday-tasks">
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">9:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Review Q1 goals and set OKRs for Q2 #planning</p>
                                <div class="task-meta">
                                    <span class="task-duration">1h</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">10:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Team standup and project sync #product</p>
                                <div class="task-meta">
                                    <span class="task-duration">30m</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">2:00 PM</div>
                            <div class="task-content">
                                <p class="task-description">User research analysis and insights documentation #product</p>
                                <div class="task-meta">
                                    <span class="task-duration">2h</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tuesday -->
                <div class="day-column">
                    <div class="day-header">
                        <h3>Tuesday</h3>
                        <span class="day-date">March 19</span>
                    </div>
                    <div class="task-list" id="tuesday-tasks">
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">9:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Competitive analysis and market research #growth</p>
                                <div class="task-meta">
                                    <span class="task-duration">2h</span>
                                    <span class="task-project">Growth</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">11:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Growth strategy brainstorming session #growth</p>
                                <div class="task-meta">
                                    <span class="task-duration">1.5h</span>
                                    <span class="task-project">Growth</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">3:00 PM</div>
                            <div class="task-content">
                                <p class="task-description">Review and optimize conversion funnel #growth</p>
                                <div class="task-meta">
                                    <span class="task-duration">1h</span>
                                    <span class="task-project">Growth</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Wednesday -->
                <div class="day-column today">
                    <div class="day-header">
                        <h3>Wednesday</h3>
                        <span class="day-date">March 20</span>
                        <span class="today-badge">Today</span>
                    </div>
                    <div class="task-list" id="wednesday-tasks">
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">9:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Product roadmap planning and prioritization #product</p>
                                <div class="task-meta">
                                    <span class="task-duration">2h</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">11:00 AM</div>
                            <div class="task-content">
                                <p class="task-description">Stakeholder meeting for feature approvals #product</p>
                                <div class="task-meta">
                                    <span class="task-duration">1h</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">2:00 PM</div>
                            <div class="task-content">
                                <p class="task-description">Design system review and updates #product</p>
                                <div class="task-meta">
                                    <span class="task-duration">1.5h</span>
                                    <span class="task-project">Product</span>
                                </div>
                            </div>
                        </div>
                        <div class="task-item" onclick="toggleTask(this)">
                            <div class="task-time">4:00 PM</div>
                            <div class="task-content">
                                <p class="task-description">Weekly team retrospective and planning #planning</p>
                                <div class="task-meta">
                                    <span class="task-duration">1h</span>
                                    <span class="task-project">Planning</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Right Sidebar - Calendar/Time View -->
        <aside class="calendar-sidebar">
            <div class="calendar-header">
                <h3>Today's Schedule</h3>
                <span class="current-time">9:00 AM</span>
            </div>
            <div class="time-slots">
                <div class="time-slot">
                    <div class="slot-time">7:00 AM</div>
                    <div class="slot-content">
                        <div class="scheduled-item morning-routine" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-sun"></i>
                            <span>Morning routine</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">8:00 AM</div>
                    <div class="slot-content"></div>
                </div>
                <div class="time-slot current">
                    <div class="slot-time">9:00 AM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-users"></i>
                            <span>Product roadmap planning</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">10:00 AM</div>
                    <div class="slot-content"></div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">11:00 AM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-handshake"></i>
                            <span>Stakeholder meeting</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">12:00 PM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;" style="background: linear-gradient(135deg, #D1FAE5, #A7F3D0); color: #065F46;">
                            <i class="fas fa-utensils"></i>
                            <span>Lunch</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">1:00 PM</div>
                    <div class="slot-content"></div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">2:00 PM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-palette"></i>
                            <span>Design system review</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">3:00 PM</div>
                    <div class="slot-content"></div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">4:00 PM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-chart-line"></i>
                            <span>Team retrospective</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">5:00 PM</div>
                    <div class="slot-content"></div>
                </div>
                <div class="time-slot">
                    <div class="slot-time">6:00 PM</div>
                    <div class="slot-content">
                        <div class="scheduled-item" onclick="toggleRoutineItem(this)" style="cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-laptop"></i>
                            <span>Review prototype</span>
                            <i class="fas fa-check" style="margin-left: auto; opacity: 0; transition: opacity 0.3s ease;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // Simple working JavaScript - NO EXTERNAL DEPENDENCIES
        console.log('Script starting...');
        
        function showNotification(message) {
            console.log('Showing notification:', message);
            
            // Remove existing notifications
            const existing = document.querySelectorAll('.notification');
            existing.forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        function toggleTask(element) {
            console.log('Toggling task:', element);
            element.classList.toggle('completed');
            const isCompleted = element.classList.contains('completed');
            showNotification(isCompleted ? 'Task completed!' : 'Task marked as incomplete');
        }

        function updateTime() {
            const timeElements = document.querySelectorAll('.current-time');
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            });
            
            timeElements.forEach(element => {
                element.textContent = timeString;
            });
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        function init() {
            console.log('Initializing app...');
            
            // Navigation items
            const navItems = document.querySelectorAll('.nav-item');
            console.log('Found nav items:', navItems.length);
            
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Navigation clicked:', this.dataset.page);
                    
                    // Remove active class from all
                    navItems.forEach(nav => nav.classList.remove('active'));
                    // Add active class to clicked
                    this.classList.add('active');
                    
                    const pageName = this.textContent.trim();
                    showNotification('Navigated to: ' + pageName);
                    
                    // Change content based on page
                    updateMainContent(this.dataset.page);
                });
            });

            // Update time every minute
            setInterval(updateTime, 60000);
            updateTime();
            
            console.log('App initialized successfully!');
        }

        function updateMainContent(page) {
            const mainContent = document.querySelector('.main-content');
            
            switch(page) {
                case 'home':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Welcome Back!</h1>
                            <div class="date-navigation">
                                <button class="nav-btn" onclick="showNotification('Previous day')"><i class="fas fa-chevron-left"></i></button>
                                <span class="current-date">Today, March 20, 2024</span>
                                <button class="nav-btn" onclick="showNotification('Next day')"><i class="fas fa-chevron-right"></i></button>
                            </div>
                        </div>
                        
                        <div class="dashboard-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-top: 32px;">
                            <div class="dashboard-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Today's Progress</h3>
                                <div class="progress-stats" style="display: flex; justify-content: space-between; margin-top: 16px;">
                                    <div class="stat" style="text-align: center;">
                                        <span class="stat-number" style="display: block; font-size: 2rem; font-weight: 700; color: var(--primary-color);">8</span>
                                        <span class="stat-label" style="font-size: 0.875rem; color: var(--text-secondary);">Tasks Completed</span>
                                    </div>
                                    <div class="stat" style="text-align: center;">
                                        <span class="stat-number" style="display: block; font-size: 2rem; font-weight: 700; color: var(--primary-color);">3</span>
                                        <span class="stat-label" style="font-size: 0.875rem; color: var(--text-secondary);">In Progress</span>
                                    </div>
                                    <div class="stat" style="text-align: center;">
                                        <span class="stat-number" style="display: block; font-size: 2rem; font-weight: 700; color: var(--primary-color);">2</span>
                                        <span class="stat-label" style="font-size: 0.875rem; color: var(--text-secondary);">Upcoming</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="dashboard-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Weekly Overview</h3>
                                <div class="week-progress" style="margin-top: 16px;">
                                    <div class="progress-bar" style="width: 100%; height: 8px; background: var(--border-color); border-radius: 4px; margin-bottom: 8px;">
                                        <div class="progress-fill" style="height: 100%; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); border-radius: 4px; width: 65%;"></div>
                                    </div>
                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">65% Complete</span>
                                </div>
                            </div>
                            
                            <div class="dashboard-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Focus Time</h3>
                                <div class="focus-stats" style="margin-top: 16px; text-align: center;">
                                    <span class="focus-time" style="display: block; font-size: 2rem; font-weight: 700; color: var(--primary-color);">4h 32m</span>
                                    <span class="focus-label" style="font-size: 0.875rem; color: var(--text-secondary);">Total focus time today</span>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'focus':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Focus Mode</h1>
                            <button class="focus-toggle-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px;" onclick="toggleFocusTimer()">
                                <i class="fas fa-play"></i> Start Focus Session
                            </button>
                        </div>
                        
                        <div class="focus-container" style="max-width: 600px; margin: 0 auto; text-align: center;">
                            <div class="focus-timer" style="margin-bottom: 48px;">
                                <div class="timer-display" style="font-size: 4rem; font-weight: 700; color: var(--primary-color); margin-bottom: 24px;" id="timer-display">25:00</div>
                                <div class="timer-controls" style="display: flex; justify-content: center; gap: 16px;">
                                    <button class="timer-btn" style="width: 48px; height: 48px; border-radius: 50%; border: 1px solid var(--border-color); background: var(--surface); cursor: pointer; transition: var(--transition);" onclick="startTimer()"><i class="fas fa-play"></i></button>
                                    <button class="timer-btn" style="width: 48px; height: 48px; border-radius: 50%; border: 1px solid var(--border-color); background: var(--surface); cursor: pointer; transition: var(--transition);" onclick="pauseTimer()"><i class="fas fa-pause"></i></button>
                                    <button class="timer-btn" style="width: 48px; height: 48px; border-radius: 50%; border: 1px solid var(--border-color); background: var(--surface); cursor: pointer; transition: var(--transition);" onclick="resetTimer()"><i class="fas fa-redo"></i></button>
                                </div>
                            </div>
                            
                            <div class="focus-task" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 32px;">
                                <h3>Current Task</h3>
                                <p class="focus-task-description" style="margin-top: 8px;">Product roadmap planning and prioritization</p>
                            </div>
                            
                            <div class="focus-settings" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; text-align: left;">
                                <h3>Focus Settings</h3>
                                <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <label style="font-weight: 500;">Session Duration</label>
                                    <select style="padding: 8px 12px; border: 1px solid var(--border-color); border-radius: var(--radius); background: var(--surface);" onchange="changeSessionDuration()">
                                        <option>25 minutes</option>
                                        <option>45 minutes</option>
                                        <option>60 minutes</option>
                                    </select>
                                </div>
                                <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
                                    <label style="font-weight: 500;">Break Duration</label>
                                    <select style="padding: 8px 12px; border: 1px solid var(--border-color); border-radius: var(--radius); background: var(--surface);">
                                        <option>5 minutes</option>
                                        <option>10 minutes</option>
                                        <option>15 minutes</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'daily-task-list':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Daily Task List</h1>
                            <button class="add-task-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500;" onclick="showNotification('Add task feature coming soon!')">
                                <i class="fas fa-plus"></i> Add Task
                            </button>
                        </div>
                        
                        <div class="task-list-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px;">
                            <div class="task-section">
                                <h3>To Do</h3>
                                <div class="task-group" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; min-height: 200px;">
                                    <div class="task-item" onclick="toggleTask(this)" style="display: flex; gap: 16px; padding: 16px; border-radius: var(--radius); margin-bottom: 8px; transition: var(--transition); cursor: pointer;">
                                        <div class="task-checkbox" style="margin-right: 12px;"><input type="checkbox"></div>
                                        <div class="task-content" style="flex: 1;">
                                            <p class="task-description" style="font-weight: 500; margin-bottom: 8px;">Review Q1 goals and set OKRs for Q2</p>
                                            <div class="task-meta" style="display: flex; gap: 12px; align-items: center;">
                                                <span class="task-duration" style="color: var(--text-secondary); font-size: 0.875rem;">1h</span>
                                                <span class="task-project" style="background: var(--background); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; color: var(--primary-color);">Product</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="task-item" onclick="toggleTask(this)" style="display: flex; gap: 16px; padding: 16px; border-radius: var(--radius); margin-bottom: 8px; transition: var(--transition); cursor: pointer;">
                                        <div class="task-checkbox" style="margin-right: 12px;"><input type="checkbox"></div>
                                        <div class="task-content" style="flex: 1;">
                                            <p class="task-description" style="font-weight: 500; margin-bottom: 8px;">Competitive analysis and market research</p>
                                            <div class="task-meta" style="display: flex; gap: 12px; align-items: center;">
                                                <span class="task-duration" style="color: var(--text-secondary); font-size: 0.875rem;">2h</span>
                                                <span class="task-project" style="background: var(--background); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; color: var(--primary-color);">Growth</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="task-section">
                                <h3>In Progress</h3>
                                <div class="task-group" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; min-height: 200px;">
                                    <div class="task-item" onclick="toggleTask(this)" style="display: flex; gap: 16px; padding: 16px; border-radius: var(--radius); margin-bottom: 8px; transition: var(--transition); cursor: pointer;">
                                        <div class="task-checkbox" style="margin-right: 12px;"><input type="checkbox"></div>
                                        <div class="task-content" style="flex: 1;">
                                            <p class="task-description" style="font-weight: 500; margin-bottom: 8px;">Product roadmap planning and prioritization</p>
                                            <div class="task-meta" style="display: flex; gap: 12px; align-items: center;">
                                                <span class="task-duration" style="color: var(--text-secondary); font-size: 0.875rem;">2h</span>
                                                <span class="task-project" style="background: var(--background); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; color: var(--primary-color);">Product</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="task-section">
                                <h3>Completed</h3>
                                <div class="task-group" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; min-height: 200px;">
                                    <div class="task-item completed" onclick="toggleTask(this)" style="display: flex; gap: 16px; padding: 16px; border-radius: var(--radius); margin-bottom: 8px; transition: var(--transition); cursor: pointer; opacity: 0.6;">
                                        <div class="task-checkbox" style="margin-right: 12px;"><input type="checkbox" checked></div>
                                        <div class="task-content" style="flex: 1;">
                                            <p class="task-description" style="font-weight: 500; margin-bottom: 8px; text-decoration: line-through;">Team standup and project sync</p>
                                            <div class="task-meta" style="display: flex; gap: 12px; align-items: center;">
                                                <span class="task-duration" style="color: var(--text-secondary); font-size: 0.875rem;">30m</span>
                                                <span class="task-project" style="background: var(--background); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; color: var(--primary-color);">Product</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'daily-planning':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Daily Planning</h1>
                            <div style="display: flex; gap: 12px;">
                                <button class="clear-plan-btn" style="background: #6B7280; color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500;" onclick="clearPlan()">
                                    <i class="fas fa-eraser"></i> Clear Plan
                                </button>
                                <button class="add-plan-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500;" onclick="createNewPlan()">
                                    <i class="fas fa-plus"></i> Create New Plan
                                </button>
                            </div>
                        </div>
                        
                        <div class="planning-container" style="max-width: 900px; margin: 0 auto;">
                            <div class="planning-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Today's Focus</h3>
                                <p style="color: var(--text-secondary); margin-top: 8px;">What is the single most important thing you need to accomplish today?</p>
                                <textarea id="focus-input" style="width: 100%; height: 80px; border: 1px solid var(--border-color); border-radius: var(--radius); padding: 12px; margin-top: 16px; font-family: inherit; font-size: 1rem;" placeholder="e.g., Finalize Q2 product roadmap presentation"></textarea>
                            </div>
                            
                            <div class="planning-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Schedule Overview</h3>
                                <div id="schedule-list" style="margin-top: 16px;">
                                    <div class="schedule-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed var(--border-color); margin-bottom: 10px;">
                                        <input type="time" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px;" value="09:00">
                                        <input type="text" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px; flex: 1; margin: 0 10px;" placeholder="Activity description">
                                        <button onclick="removeScheduleItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer;">Remove</button>
                                    </div>
                                </div>
                                <button onclick="addScheduleItem()" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 8px 16px; cursor: pointer; font-weight: 500; margin-top: 10px;">
                                    <i class="fas fa-plus"></i> Add Schedule Item
                                </button>
                            </div>
                            
                            <div class="planning-card" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Tasks for Today</h3>
                                <div id="tasks-list" style="margin-top: 16px;">
                                    <div class="task-item" style="display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid var(--border-color); border-radius: var(--radius);">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <input type="text" style="flex: 1; border: none; outline: none; padding: 4px; font-size: 1rem;" placeholder="Enter a task...">
                                        <select class="task-priority" style="margin-left: 10px; padding: 4px 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                                            <option value="low">Low</option>
                                            <option value="medium" selected>Medium</option>
                                            <option value="high">High</option>
                                        </select>
                                        <select class="task-energy" style="margin-left: 5px; padding: 4px 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                                            <option value="low">Low Energy</option>
                                            <option value="medium" selected>Medium Energy</option>
                                            <option value="high">High Energy</option>
                                        </select>
                                        <button onclick="removeTaskItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 6px 10px; cursor: pointer; margin-left: 10px; font-size: 0.875rem;">Remove</button>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 12px; margin-top: 16px;">
                                    <button onclick="addTaskItem()" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 10px 16px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                                        <i class="fas fa-plus"></i> Add Task
                                    </button>
                                    <button onclick="generateAITaskSuggestions()" style="background: linear-gradient(135deg, #7C3AED, #4F46E5); color: white; border: none; border-radius: var(--radius); padding: 10px 16px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                                        <i class="fas fa-robot"></i> AI Suggestions
                                    </button>
                                </div>
                                <div id="ai-suggestions" style="margin-top: 16px; display: none;">
                                    <!-- AI suggestions will appear here -->
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'daily-shutdown':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Daily Shutdown</h1>
                            <span class="shutdown-time" style="color: var(--primary-color); font-weight: 600;">6:00 PM</span>
                        </div>
                        
                        <div class="shutdown-container" style="max-width: 800px; margin: 0 auto;">
                            <div class="shutdown-checklist" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Complete these before shutting down:</h3>
                                <div class="checklist-items" style="margin-top: 16px;">
                                    <label class="checklist-item" style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Review today's accomplishments</span>
                                    </label>
                                    <label class="checklist-item" style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Plan tomorrow's priorities</span>
                                    </label>
                                    <label class="checklist-item" style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Clear email inbox</span>
                                    </label>
                                    <label class="checklist-item" style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Update project status</span>
                                    </label>
                                    <label class="checklist-item" style="display: flex; align-items: center; cursor: pointer;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Tidy up workspace</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="shutdown-reflection" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Today's Reflection</h3>
                                <textarea style="width: 100%; min-height: 120px; border: 1px solid var(--border-color); border-radius: var(--radius); padding: 12px; margin-top: 16px; resize: vertical; font-family: inherit;" placeholder="What went well today? What could be improved?"></textarea>
                                <button class="save-reflection-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; margin-top: 16px;" onclick="showNotification('Reflection saved!')">Save Reflection</button>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'daily-highlights':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Daily Highlights</h1>
                            <button class="add-highlight-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500;" onclick="showNotification('Add highlight feature coming soon!')">
                                <i class="fas fa-plus"></i> Add Highlight
                            </button>
                        </div>
                        
                        <div class="highlights-container" style="max-width: 800px; margin: 0 auto;">
                            <div class="highlight-item" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 16px;">
                                <div class="highlight-date" style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 8px;">Today</div>
                                <div class="highlight-content">
                                    <h3 style="margin-bottom: 8px;">Completed product roadmap planning</h3>
                                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Successfully finalized Q2 product roadmap with stakeholder approval.</p>
                                    <div class="highlight-tags" style="display: flex; gap: 8px;">
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#product</span>
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#planning</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="highlight-item" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 16px;">
                                <div class="highlight-date" style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 8px;">Yesterday</div>
                                <div class="highlight-content">
                                    <h3 style="margin-bottom: 8px;">Launched new feature</h3>
                                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Successfully deployed the user dashboard update with positive feedback.</p>
                                    <div class="highlight-tags" style="display: flex; gap: 8px;">
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#development</span>
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#launch</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="highlight-item" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <div class="highlight-date" style="color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 8px;">March 18</div>
                                <div class="highlight-content">
                                    <h3 style="margin-bottom: 8px;">Team milestone achieved</h3>
                                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Completed the first phase of the redesign project ahead of schedule.</p>
                                    <div class="highlight-tags" style="display: flex; gap: 8px;">
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#team</span>
                                        <span class="tag" style="background: var(--background); color: var(--primary-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">#milestone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'weekly-planning':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Weekly Planning</h1>
                            <span class="week-range" style="color: var(--text-secondary);">Mar 18 - Mar 24</span>
                        </div>
                        
                        <div class="weekly-planning-container" style="max-width: 800px; margin: 0 auto;">
                            <div class="weekly-goals" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Weekly Goals</h3>
                                <div class="goal-item" style="margin-top: 16px;">
                                    <input type="text" placeholder="Add a new goal..." style="width: 100%; border: 1px solid var(--border-color); border-radius: var(--radius); padding: 12px; font-size: 1rem; font-family: inherit;">
                                </div>
                                <ul class="goals-list" style="list-style: none; margin-top: 16px;">
                                    <li style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Complete Q2 product roadmap presentation</span>
                                    </li>
                                    <li style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Conduct user research interviews</span>
                                    </li>
                                    <li style="display: flex; align-items: center;">
                                        <input type="checkbox" style="margin-right: 12px;">
                                        <span>Review and optimize conversion funnel</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="weekly-priorities" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Top Priorities</h3>
                                <div class="priority-list" style="margin-top: 16px;">
                                    <div class="priority-item high" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; border-radius: var(--radius); margin-bottom: 8px; background: rgba(239, 68, 68, 0.1); border-left: 4px solid #EF4444;">
                                        <span class="priority-title" style="font-weight: 500;">Complete Q2 roadmap</span>
                                        <span class="priority-status" style="color: var(--text-secondary); font-size: 0.875rem;">In Progress</span>
                                    </div>
                                    <div class="priority-item medium" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; border-radius: var(--radius); margin-bottom: 8px; background: rgba(245, 158, 11, 0.1); border-left: 4px solid #F59E0B;">
                                        <span class="priority-title" style="font-weight: 500;">User research analysis</span>
                                        <span class="priority-status" style="color: var(--text-secondary); font-size: 0.875rem;">To Do</span>
                                    </div>
                                    <div class="priority-item low" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; border-radius: var(--radius); background: rgba(34, 197, 94, 0.1); border-left: 4px solid #22C55E;">
                                        <span class="priority-title" style="font-weight: 500;">Team building activities</span>
                                        <span class="priority-status" style="color: var(--text-secondary); font-size: 0.875rem;">To Do</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'weekly-review':
                    mainContent.innerHTML = `
                        <div class="content-header">
                            <h1>Weekly Review</h1>
                            <span class="review-week" style="color: var(--text-secondary);">Week of Mar 18</span>
                        </div>
                        
                        <div class="weekly-review-container" style="max-width: 800px; margin: 0 auto;">
                            <div class="review-section" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Accomplishments</h3>
                                <div class="accomplishment-list" style="margin-top: 16px;">
                                    <div class="accomplishment-item" style="display: flex; align-items: center; margin-bottom: 12px;">
                                        <i class="fas fa-check-circle" style="color: #22C55E; margin-right: 12px;"></i>
                                        <span>Completed product roadmap planning</span>
                                    </div>
                                    <div class="accomplishment-item" style="display: flex; align-items: center; margin-bottom: 12px;">
                                        <i class="fas fa-check-circle" style="color: #22C55E; margin-right: 12px;"></i>
                                        <span>Conducted user research interviews</span>
                                    </div>
                                    <div class="accomplishment-item" style="display: flex; align-items: center;">
                                        <i class="fas fa-check-circle" style="color: #22C55E; margin-right: 12px;"></i>
                                        <span>Launched new dashboard feature</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="review-section" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; margin-bottom: 24px;">
                                <h3>Challenges & Learnings</h3>
                                <textarea style="width: 100%; min-height: 100px; border: 1px solid var(--border-color); border-radius: var(--radius); padding: 12px; margin-top: 16px; resize: vertical; font-family: inherit;" placeholder="What challenges did you face? What did you learn?"></textarea>
                            </div>
                            
                            <div class="review-section" style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px;">
                                <h3>Next Week Focus</h3>
                                <textarea style="width: 100%; min-height: 100px; border: 1px solid var(--border-color); border-radius: var(--radius); padding: 12px; margin-top: 16px; resize: vertical; font-family: inherit;" placeholder="What will you focus on next week?"></textarea>
                                <button class="save-review-btn" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; margin-top: 16px;" onclick="showNotification('Weekly review saved!')">Save Review</button>
                            </div>
                        </div>
                    `;
                    break;
            }
        }

        // Timer functions for focus mode
        let timerInterval;
        let timeLeft = 25 * 60; // 25 minutes in seconds

        function startTimer() {
            if (timerInterval) return;
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    showNotification('Focus session completed! Take a break.');
                    timeLeft = 25 * 60;
                    updateTimerDisplay();
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            timeLeft = 25 * 60;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            const timerDisplay = document.getElementById('timer-display');
            if (timerDisplay) {
                timerDisplay.textContent = display;
            }
        }

        function toggleFocusTimer() {
            if (timerInterval) {
                pauseTimer();
                showNotification('Focus session paused');
            } else {
                startTimer();
                showNotification('Focus session started');
            }
        }

        function changeSessionDuration() {
            const select = document.querySelector('select');
            if (select) {
                const selectedOption = select.value;
                let minutes = 25; // default
                
                switch(selectedOption) {
                    case '25 minutes':
                        minutes = 25;
                        break;
                    case '45 minutes':
                        minutes = 45;
                        break;
                    case '60 minutes':
                        minutes = 60;
                        break;
                }
                
                timeLeft = minutes * 60;
                updateTimerDisplay();
                showNotification(`Session duration changed to ${minutes} minutes`);
            }
        }

        function toggleRoutineItem(element) {
            const checkIcon = element.querySelector('.fa-check');
            if (checkIcon) {
                const isCompleted = checkIcon.style.opacity === '1';
                checkIcon.style.opacity = isCompleted ? '0' : '1';
                
                if (isCompleted) {
                    element.style.background = 'linear-gradient(135deg, #FEF3C7, #FDE68A)';
                    showNotification('Morning routine marked as incomplete');
                } else {
                    element.style.background = 'linear-gradient(135deg, #D1FAE5, #A7F3D0)';
                    showNotification('Morning routine completed! Great start to the day! ');
                }
            }
        }

        function createNewPlan() {
            // Get the current plan data
            const focusInput = document.getElementById('focus-input');
            const scheduleItems = document.querySelectorAll('#schedule-list .schedule-item');
            const taskItems = document.querySelectorAll('#tasks-list .task-item');
            
            // Build plan summary
            let planSummary = '<h3>Your Daily Plan</h3>';
            
            // Add focus
            if (focusInput && focusInput.value.trim()) {
                planSummary += `<div style="margin-bottom: 20px;"><strong>Today's Focus:</strong> ${focusInput.value}</div>`;
            }
            
            // Add schedule
            planSummary += '<div style="margin-bottom: 20px;"><strong>Schedule:</strong><ul>';
            scheduleItems.forEach(item => {
                const timeInput = item.querySelector('input[type="time"]');
                const textInput = item.querySelector('input[type="text"]');
                if (textInput && textInput.value.trim()) {
                    planSummary += `<li>${timeInput.value} - ${textInput.value}</li>`;
                }
            });
            planSummary += '</ul></div>';
            
            // Add tasks
            planSummary += '<div><strong>Tasks:</strong><ul>';
            taskItems.forEach(item => {
                const textInput = item.querySelector('input[type="text"]');
                if (textInput && textInput.value.trim()) {
                    planSummary += `<li>${textInput.value}</li>`;
                }
            });
            planSummary += '</ul></div>';
            
            // Show the created plan
            showNotification('Daily plan created and saved! ');
            
            // Create a modal or show the plan
            const planDisplay = document.createElement('div');
            planDisplay.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 24px; max-width: 500px; z-index: 1001; box-shadow: 0 10px 25px rgba(0,0,0,0.2);';
            planDisplay.innerHTML = `
                ${planSummary}
                <button onclick="this.parentElement.remove()" style="background: var(--primary-color); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; margin-top: 16px;">Close</button>
            `;
            document.body.appendChild(planDisplay);
        }

        function clearPlan() {
            // Clear all inputs
            const focusInput = document.getElementById('focus-input');
            if (focusInput) focusInput.value = '';
            
            // Reset schedule items to one empty item
            const scheduleList = document.getElementById('schedule-list');
            if (scheduleList) {
                scheduleList.innerHTML = `
                    <div class="schedule-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed var(--border-color); margin-bottom: 10px;">
                        <input type="time" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px;" value="09:00">
                        <input type="text" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px; flex: 1; margin: 0 10px;" placeholder="Activity description">
                        <button onclick="removeScheduleItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer;">Remove</button>
                    </div>
                `;
            }
            
            // Reset tasks to one empty item
            const tasksList = document.getElementById('tasks-list');
            if (tasksList) {
                tasksList.innerHTML = `
                    <div class="task-item" style="display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid var(--border-color); border-radius: var(--radius);">
                        <input type="checkbox" style="margin-right: 12px;">
                        <input type="text" style="flex: 1; border: none; outline: none; padding: 4px; font-size: 1rem;" placeholder="Enter a task...">
                        <button onclick="removeTaskItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 6px 10px; cursor: pointer; margin-left: 10px; font-size: 0.875rem;">Remove</button>
                    </div>
                `;
            }
            
            showNotification('Plan cleared! Start fresh.');
        }

        function addScheduleItem() {
            const scheduleList = document.getElementById('schedule-list');
            if (scheduleList) {
                const newItem = document.createElement('div');
                newItem.className = 'schedule-item';
                newItem.style.cssText = 'display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed var(--border-color); margin-bottom: 10px;';
                newItem.innerHTML = `
                    <input type="time" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px;" value="10:00">
                    <input type="text" style="border: 1px solid var(--border-color); border-radius: 4px; padding: 4px 8px; flex: 1; margin: 0 10px;" placeholder="Activity description">
                    <button onclick="removeScheduleItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer;">Remove</button>
                `;
                scheduleList.appendChild(newItem);
                showNotification('Schedule item added');
            }
        }

        function removeScheduleItem(button) {
            const item = button.parentElement;
            item.remove();
            showNotification('Schedule item removed');
        }

        function addTaskItem() {
            const tasksList = document.getElementById('tasks-list');
            if (tasksList) {
                const newItem = document.createElement('div');
                newItem.className = 'task-item';
                newItem.style.cssText = 'display: flex; align-items: center; margin-bottom: 10px; padding: 10px; border: 1px solid var(--border-color); border-radius: var(--radius);';
                newItem.innerHTML = `
                    <input type="checkbox" style="margin-right: 12px;">
                    <input type="text" style="flex: 1; border: none; outline: none; padding: 4px; font-size: 1rem;" placeholder="Enter a task...">
                    <select class="task-priority" style="margin-left: 10px; padding: 4px 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                    </select>
                    <select class="task-energy" style="margin-left: 5px; padding: 4px 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                        <option value="low">Low Energy</option>
                        <option value="medium" selected>Medium Energy</option>
                        <option value="high">High Energy</option>
                    </select>
                    <button onclick="removeTaskItem(this)" style="background: #EF4444; color: white; border: none; border-radius: 4px; padding: 6px 10px; cursor: pointer; margin-left: 10px; font-size: 0.875rem;">Remove</button>
                `;
                tasksList.appendChild(newItem);
                showNotification('Task added');
            }
        }

        function generateAITaskSuggestions() {
            const tasksList = document.getElementById('tasks-list');
            const taskItems = tasksList.querySelectorAll('.task-item');
            const suggestionsDiv = document.getElementById('ai-suggestions');
            
            // Collect all tasks with their properties
            const tasks = [];
            taskItems.forEach((item, index) => {
                const textInput = item.querySelector('input[type="text"]');
                const prioritySelect = item.querySelector('.task-priority');
                const energySelect = item.querySelector('.task-energy');
                
                if (textInput && textInput.value.trim()) {
                    tasks.push({
                        text: textInput.value.trim(),
                        priority: prioritySelect ? prioritySelect.value : 'medium',
                        energy: energySelect ? energySelect.value : 'medium',
                        index: index
                    });
                }
            });
            
            if (tasks.length === 0) {
                showNotification('Please add some tasks first!');
                return;
            }
            
            // Advanced AI Analysis
            const suggestions = advancedAnalyzeTasks(tasks);
            
            // Display enhanced suggestions
            suggestionsDiv.style.display = 'block';
            suggestionsDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #7C3AED, #4F46E5); color: white; padding: 20px; border-radius: var(--radius); margin-bottom: 16px;">
                    <h4 style="margin-bottom: 12px; display: flex; align-items: center; gap: 8px; font-size: 1.2rem;">
                        <i class="fas fa-brain"></i> AI Task Optimization
                    </h4>
                    <p style="font-size: 0.9rem; opacity: 0.9;">Advanced AI analysis for maximum productivity and work-life balance</p>
                    <div style="display: flex; gap: 16px; margin-top: 12px; font-size: 0.85rem;">
                        <div><strong> Productivity Score:</strong> ${suggestions.productivityScore}/100</div>
                        <div><strong> Energy Efficiency:</strong> ${suggestions.energyEfficiency}%</div>
                        <div><strong> Focus Factor:</strong> ${suggestions.focusFactor}</div>
                    </div>
                </div>
                
                <div style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; margin-bottom: 16px;">
                    <h5 style="margin-bottom: 12px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-clock"></i> Time-Block Schedule
                    </h5>
                    <div style="background: var(--background); padding: 12px; border-radius: var(--radius); font-family: monospace; font-size: 0.85rem;">
                        ${suggestions.timeBlocks.map(block => `
                            <div style="margin-bottom: 4px; display: flex; justify-content: space-between;">
                                <span style="color: var(--primary-color); font-weight: 600;">${block.time}</span>
                                <span>${block.task}</span>
                                <span style="color: var(--text-secondary);">${block.duration}min</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; margin-bottom: 16px;">
                    <h5 style="margin-bottom: 12px; color: var(--primary-color);"> Optimal Task Sequence:</h5>
                    ${suggestions.orderedTasks.map((task, i) => `
                        <div style="display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border-color); ${i === 0 ? 'background: linear-gradient(90deg, rgba(79, 70, 229, 0.1), transparent); border-radius: var(--radius); padding: 12px; margin-bottom: 8px;' : ''}">
                            <div style="display: flex; align-items: center; margin-right: 16px;">
                                <span style="background: ${i === 0 ? 'linear-gradient(135deg, #7C3AED, #4F46E5)' : 'var(--primary-color)'}; color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 600; ${i === 0 ? 'box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);' : ''}">${i + 1}</span>
                            </div>
                            <div style="flex: 1;">
                                <div style="font-weight: 500; ${i === 0 ? 'color: var(--primary-color);' : ''}">${task.text}</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 2px;">
                                    Priority: ${task.priority} | Energy: ${task.energy} | Est: ${task.estimatedTime}min
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <span style="font-size: 0.75rem; color: var(--primary-color); font-weight: 600; display: block;">
                                    ${task.reason}
                                </span>
                                <span style="font-size: 0.7rem; color: var(--text-secondary);">
                                    ${task.productivityBoost}
                                </span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div style="background: var(--surface); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; margin-bottom: 16px;">
                    <h5 style="margin-bottom: 12px; color: var(--primary-color); display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-lightbulb"></i> Advanced AI Insights
                    </h5>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px;">
                        <div style="padding: 12px; background: var(--background); border-radius: var(--radius); border-left: 4px solid #4F46E5;">
                            <div style="font-weight: 600; color: var(--primary-color); margin-bottom: 4px;"> Time Management</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">${suggestions.timeInsight}</div>
                        </div>
                        <div style="padding: 12px; background: var(--background); border-radius: var(--radius); border-left: 4px solid #7C3AED;">
                            <div style="font-weight: 600; color: var(--secondary-color); margin-bottom: 4px;"> Energy Optimization</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">${suggestions.energyInsight}</div>
                        </div>
                        <div style="padding: 12px; background: var(--background); border-radius: var(--radius); border-left: 4px solid #22C55E;">
                            <div style="font-weight: 600; color: #22C55E; margin-bottom: 4px;"> Focus Strategy</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">${suggestions.focusInsight}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 16px; padding: 12px; background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(79, 70, 229, 0.1)); border-radius: var(--radius);">
                        <h6 style="margin-bottom: 8px; color: var(--primary-color); font-weight: 600;"> Pro Tip:</h6>
                        <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">${suggestions.proTip}</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 12px;">
                    <button onclick="applyAISuggestions()" style="background: linear-gradient(135deg, #7C3AED, #4F46E5); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-check"></i> Apply AI Optimization
                    </button>
                    <button onclick="exportAISuggestions()" style="background: var(--text-secondary); color: white; border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-download"></i> Export Schedule
                    </button>
                    <button onclick="document.getElementById('ai-suggestions').style.display='none'" style="background: var(--border-color); color: var(--text-primary); border: none; border-radius: var(--radius); padding: 12px 24px; cursor: pointer; font-weight: 500;">
                        Close
                    </button>
                </div>
            `;
            
            showNotification('Advanced AI optimization complete! ');
        }

        function advancedAnalyzeTasks(tasks) {
            // Enhanced priority and energy weights
            const priorityWeights = { high: 5, medium: 3, low: 1 };
            const energyWeights = { high: 4, medium: 2, low: 1 };
            
            // Calculate advanced scores
            const scoredTasks = tasks.map(task => {
                const baseScore = priorityWeights[task.priority] * 2 + energyWeights[task.energy];
                const estimatedTime = estimateTaskTime(task);
                const productivityBoost = calculateProductivityBoost(task);
                
                return {
                    ...task,
                    score: baseScore,
                    estimatedTime: estimatedTime,
                    productivityBoost: productivityBoost,
                    reason: getAdvancedTaskReason(task),
                    difficulty: calculateDifficulty(task)
                };
            });
            
            // Sort by score (highest first)
            scoredTasks.sort((a, b) => b.score - a.score);
            
            // Generate time blocks
            const timeBlocks = generateTimeBlocks(scoredTasks);
            
            // Calculate metrics
            const productivityScore = calculateProductivityScore(scoredTasks);
            const energyEfficiency = calculateEnergyEfficiency(scoredTasks);
            const focusFactor = calculateFocusFactor(scoredTasks);
            
            // Generate advanced insights
            const insights = generateAdvancedInsights(scoredTasks, timeBlocks);
            
            return {
                orderedTasks: scoredTasks,
                timeBlocks: timeBlocks,
                productivityScore: productivityScore,
                energyEfficiency: energyEfficiency,
                focusFactor: focusFactor,
                timeInsight: insights.timeInsight,
                energyInsight: insights.energyInsight,
                focusInsight: insights.focusInsight,
                proTip: insights.proTip
            };
        }

        function estimateTaskTime(task) {
            // Base time estimates based on priority and energy
            const baseTimes = {
                'high-high': 45,
                'high-medium': 35,
                'high-low': 25,
                'medium-high': 30,
                'medium-medium': 25,
                'medium-low': 20,
                'low-high': 20,
                'low-medium': 15,
                'low-low': 10
            };
            
            const key = `${task.priority}-${task.energy}`;
            return baseTimes[key] || 25;
        }

        function calculateProductivityBoost(task) {
            const boosts = {
                'high-high': '+25% efficiency',
                'high-medium': '+20% efficiency',
                'high-low': '+15% efficiency',
                'medium-high': '+18% efficiency',
                'medium-medium': '+12% efficiency',
                'medium-low': '+8% efficiency',
                'low-high': '+10% efficiency',
                'low-medium': '+5% efficiency',
                'low-low': '+3% efficiency'
            };
            
            const key = `${task.priority}-${task.energy}`;
            return boosts[key] || '+10% efficiency';
        }

        function getAdvancedTaskReason(task) {
            const reasons = {
                'high-high': ' Peak Performance Task',
                'high-medium': ' High Impact',
                'high-low': ' Strategic Priority',
                'medium-high': ' Growth Opportunity',
                'medium-medium': ' Balanced Approach',
                'medium-low': ' Maintenance Task',
                'low-high': ' Quick Win',
                'low-medium': ' Routine Work',
                'low-low': ' Low Priority'
            };
            
            const key = `${task.priority}-${task.energy}`;
            return reasons[key] || 'Standard Task';
        }

        function calculateDifficulty(task) {
            const difficulties = {
                'high-high': 'Hard',
                'high-medium': 'Medium-Hard',
                'high-low': 'Medium',
                'medium-high': 'Medium',
                'medium-medium': 'Easy-Medium',
                'medium-low': 'Easy',
                'low-high': 'Easy',
                'low-medium': 'Very Easy',
                'low-low': 'Very Easy'
            };
            
            const key = `${task.priority}-${task.energy}`;
            return difficulties[key] || 'Medium';
        }

        function generateTimeBlocks(tasks) {
            const timeBlocks = [];
            let currentTime = 9; // Start at 9:00 AM
            
            tasks.forEach(task => {
                const startTime = formatTime(currentTime);
                const endTime = formatTime(currentTime + (task.estimatedTime / 60));
                
                timeBlocks.push({
                    time: `${startTime} - ${endTime}`,
                    task: task.text,
                    duration: task.estimatedTime
                });
                
                currentTime += (task.estimatedTime / 60) + 0.25; // Add 15 min break
            });
            
            return timeBlocks;
        }

        function formatTime(hour) {
            const h = Math.floor(hour);
            const m = Math.round((hour - h) * 60);
            const period = h >= 12 ? 'PM' : 'AM';
            const displayHour = h > 12 ? h - 12 : (h === 0 ? 12 : h);
            return `${displayHour}:${m.toString().padStart(2, '0')} ${period}`;
        }

        function calculateProductivityScore(tasks) {
            const totalScore = tasks.reduce((sum, task) => sum + task.score, 0);
            const maxScore = tasks.length * 14; // Maximum possible score
            return Math.round((totalScore / maxScore) * 100);
        }

        function calculateEnergyEfficiency(tasks) {
            const totalEnergy = tasks.reduce((sum, task) => {
                const energyWeight = task.energy === 'high' ? 3 : task.energy === 'medium' ? 2 : 1;
                return sum + energyWeight;
            }, 0);
            const maxEnergy = tasks.length * 3;
            return Math.round((totalEnergy / maxEnergy) * 100);
        }

        function calculateFocusFactor(tasks) {
            const highPriorityCount = tasks.filter(t => t.priority === 'high').length;
            const totalCount = tasks.length;
            
            if (highPriorityCount >= totalCount * 0.6) return 'High Focus';
            if (highPriorityCount >= totalCount * 0.3) return 'Medium Focus';
            return 'Low Focus';
        }

        function generateAdvancedInsights(tasks, timeBlocks) {
            const totalTime = timeBlocks.reduce((sum, block) => sum + block.duration, 0);
            const highEnergyTasks = tasks.filter(t => t.energy === 'high').length;
            const highPriorityTasks = tasks.filter(t => t.priority === 'high').length;
            
            return {
                timeInsight: totalTime > 240 ? 'Consider breaking tasks across multiple days for better focus.' : 'Well-balanced schedule with adequate time allocation.',
                energyInsight: highEnergyTasks > 3 ? 'Many high-energy tasks. Schedule strategic breaks to maintain peak performance.' : 'Energy distribution is well-balanced for sustained productivity.',
                focusInsight: highPriorityTasks > 2 ? 'High-priority focus detected. Minimize distractions during critical tasks.' : 'Good mix of priorities for steady progress.',
                proTip: 'Start your day with the highest energy, highest priority task when your focus is naturally at its peak for maximum impact.'
            };
        }

        function exportAISuggestions() {
            showNotification('Schedule exported successfully! ');
        }

        function getTaskReason(task) {
            if (task.priority === 'high' && task.energy === 'high') {
                return 'Urgent & Important';
            } else if (task.priority === 'high' && task.energy === 'low') {
                return 'Do When Fresh';
            } else if (task.priority === 'low' && task.energy === 'high') {
                return 'Quick Win';
            } else if (task.priority === 'low' && task.energy === 'low') {
                return 'Low Priority';
            } else {
                return 'Balanced';
            }
        }

        function generateInsights(tasks) {
            const insights = [];
            
            // Count priorities
            const highPriority = tasks.filter(t => t.priority === 'high').length;
            const highEnergy = tasks.filter(t => t.energy === 'high').length;
            
            if (highPriority > 2) {
                insights.push('You have many high-priority tasks. Consider delegating or postponing some.');
            }
            
            if (highEnergy > 3) {
                insights.push('Many high-energy tasks planned. Schedule breaks to maintain productivity.');
            }
            
            const totalTasks = tasks.length;
            if (totalTasks > 5) {
                insights.push(`Consider breaking down ${totalTasks} tasks across multiple days for better focus.`);
            }
            
            insights.push('Start with high-priority tasks when your energy is highest for best results.');
            
            return insights;
        }

        function applyAISuggestions() {
            showNotification('Task order applied! Follow the suggested sequence for optimal productivity. ');
            document.getElementById('ai-suggestions').style.display = 'none';
        }

        function removeTaskItem(button) {
            const item = button.parentElement;
            item.remove();
            showNotification('Task removed');
        }
    </script>
</body>
</html>
